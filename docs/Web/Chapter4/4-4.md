## JavaScript 反混淆

查看源码发现做了混淆

![](https://pic1.imgdb.cn/item/68ac12c358cb8da5c84c1717.png)

去混淆下载这个 `./JIFxzHyW8W` 拿到 flag

```js
let exports;

(async () => {
  // 拉取并加载 WebAssembly 模块
  const resp = await fetch('./JIFxzHyW8W');
  const { instance } = await WebAssembly.instantiate(await resp.arrayBuffer());
  exports = instance.exports; // 暴露的导出函数放在这里
})();

function onButtonPress() {
  // 读取输入框的内容
  const s = document.getElementById('input').value;

  // 把输入的每个字符逐个写入 WASM 的缓冲区
  for (let i = 0; i < s.length; i++) {
    exports.copy_char(s.charCodeAt(i), i);
  }

  // 追加字符串终止符（0），位置是字符串末尾
  exports.copy_char(0, s.length);

  // 调用 WASM 内的校验函数
  const ok = exports.check_flag() == 1;

  // 显示结果
  document.getElementById('result').innerHTML = ok ? 'Correct!' : 'Incorrect!';
}
```

