/* ======================================
   mkdocs-markmap 完整自适应 CSS（美化版）
   ====================================== */

/* === 容器自适应 & 高度控制 === */
.language-markmap.mkdocs-markmap {
    height: 60vh !important;       /* 高度可按需调整 */
    min-height: 500px !important;
    width: 100% !important;
    padding: 1rem;
    background-color: #f9f9f9;     /* 背景色，可自定义 */
    border: 2px solid #e0e0e0;    /* 边框 */
    border-radius: 12px;           /* 圆角 */
    box-shadow: 0 8px 20px rgba(0,0,0,0.1); /* 阴影立体感 */
}

/* === SVG 自适应容器大小 === */
.language-markmap.mkdocs-markmap > svg {
    width: 100% !important;
    height: 100% !important;
}

/* === markmap 主题变量 === */
.markmap {
  --markmap-max-width: 9999px;
  --markmap-a-color: #0097e6;
  --markmap-a-hover-color: #00a8ff;
  --markmap-code-bg: #f0f0f0;
  --markmap-code-color: #555;
  --markmap-highlight-bg: #ffeaa7;
  --markmap-table-border: 1px solid currentColor;
  --markmap-font: 300 16px/20px "Segoe UI", sans-serif;
  --markmap-circle-open-bg: #fff;
  --markmap-text-color: #333;
  --markmap-highlight-node-bg: #fffae6;

  font: var(--markmap-font);
  color: var(--markmap-text-color);
}

/* === 链接节点样式 === */
.markmap-link {
    fill: none;
}

.markmap-node > circle {
    cursor: pointer;
    stroke-width: 1.5;
    stroke: #888;
    fill: var(--markmap-circle-open-bg);
    transition: all 0.3s;
}

.markmap-node > circle:hover {
    stroke: #0097e6;
    stroke-width: 2;
    fill: #e0f7ff;
}

/* === 外部节点样式 === */
.markmap-foreign {
    display: inline-block;
}

.markmap-foreign p {
    margin: 0;
}

.markmap-foreign a {
    color: var(--markmap-a-color);
    text-decoration: none;
    font-weight: 500;
}

.markmap-foreign a:hover {
    color: var(--markmap-a-hover-color);
    text-decoration: underline;
}

.markmap-foreign code {
    padding: 0.25em 0.4em;
    font-size: calc(1em - 2px);
    color: var(--markmap-code-color);
    background-color: var(--markmap-code-bg);
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.markmap-foreign pre {
    margin: 0;
}

.markmap-foreign pre > code {
    display: block;
}

.markmap-foreign del {
    text-decoration: line-through;
}

.markmap-foreign em {
    font-style: italic;
}

.markmap-foreign strong {
    font-weight: bold;
}

.markmap-foreign mark {
    background: var(--markmap-highlight-bg);
    border-radius: 2px;
    padding: 0 2px;
}

/* === 表格 & 图片 === */
.markmap-foreign table,
.markmap-foreign th,
.markmap-foreign td {
    border-collapse: collapse;
    border: var(--markmap-table-border);
    padding: 2px 6px;
    border-radius: 4px;
}

.markmap-foreign img {
    display: inline-block;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

/* === 内联容器 === */
.markmap-foreign > div {
    width: var(--markmap-max-width);
    text-align: left;
}

.markmap-foreign > div > div {
    display: inline-block;
}

/* === 节点高亮 === */
.markmap-highlight rect {
    fill: var(--markmap-highlight-node-bg);
    rx: 6; /* 圆角高亮 */
    ry: 6;
    stroke: #ffc107;
    stroke-width: 1.5;
}

/* === 深色模式 === */
.markmap-dark .markmap {
  --markmap-code-bg: #1a1b26;
  --markmap-code-color: #ddd;
  --markmap-circle-open-bg: #444;
  --markmap-text-color: #eee;
  background-color: #1a1b26;
  border-color: #333;
}

/* === 防盗水印 === */
.language-markmap.mkdocs-markmap::after {
    content: "青少年CTF文库";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-35deg);
    font-size: 3rem;           /* 可根据需要调整 */
    color: rgba(0, 0, 0, 0.08); /* 半透明效果 */
    pointer-events: none;       /* 不影响点击操作 */
    white-space: nowrap;
    z-index: 1000;              /* 确保在最上层 */
}

/* === 保证容器为相对定位 === */
.language-markmap.mkdocs-markmap {
    position: relative;
}
